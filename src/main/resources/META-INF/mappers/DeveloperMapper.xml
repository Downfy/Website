<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.downfy.persistence.repositories.developer.DeveloperRepository">

    <select id="findAll" resultType="DeveloperDomain" flushCache="false" useCache="true">
        SELECT 
        ID as developerId, 
        NAME as developerName, 
        DESCRIPTION as developerInfo, 
        ENABLED 
        FROM developers
        ORDER BY ID
    </select>
    
    <select id="findById" resultType="DeveloperDomain" flushCache="false" useCache="true">
        SELECT 
        ID as developerId, 
        NAME as developerName, 
        DESCRIPTION as developerInfo, 
        ENABLED 
        FROM developers
        WHERE ID = #{id}
    </select>
    
    <insert id="save" parameterType="DeveloperDomain" flushCache="true">
        INSERT INTO developers
        (ID, NAME, DESCRIPTION)
        VALUES
        (#{developerId},#{developerName},#{developerInfo})
    </insert>
    
    <update id="update" flushCache="true">
        UPDATE developers
        SET 
        NAME = #{developerName},
        DESCRIPTION = #{developerInfo},
        ENABLED = #{enabled}
        WHERE ID = #{developerId}
    </update>
    
    <delete id="delete" flushCache="true">
        DELETE FROM developers
        WHERE ID = #{id}
    </delete>
</mapper>